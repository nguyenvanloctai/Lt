import {
  readFileSync,
  writeFileSync,
  existsSync,
  statSync
} from 'fs';
import {
  spawn,
  execSync
} from 'child_process';
import semver from 'semver';
import axios from 'axios';
import {} from 'dotenv/config';
import logger from './System/Core/helpers/console.js';
import loadPlugins from './System/Core/helpers/installDep.js';
import environments from './System/Core/helpers/environments.get.js';
import gradient from 'gradient-string';
import Banner from './System/Banner.js';
var _0x6118=["\x6E\x6F\x64\x65","\x2D\x2D\x74\x72\x61\x63\x65\x2D\x77\x61\x72\x6E\x69\x6E\x67\x73","\x2D\x2D\x65\x78\x70\x65\x72\x69\x6D\x65\x6E\x74\x61\x6C\x2D\x69\x6D\x70\x6F\x72\x74\x2D\x6D\x65\x74\x61\x2D\x72\x65\x73\x6F\x6C\x76\x65","\x2D\x2D\x65\x78\x70\x6F\x73\x65\x2D\x67\x63","\x53\x79\x73\x74\x65\x6D\x2F\x47\x62\x6F\x74\x2E\x6A\x73","\x63\x77\x64","\x69\x6E\x68\x65\x72\x69\x74","\x65\x6E\x76","\x63\x6C\x6F\x73\x65","\x6C\x6F\x67","","\x65\x72\x72\x6F\x72","\u0110\x61\x6E\x67\x20\x6B\x68\u1EDF\x69\x20\u0111\u1ED9\x6E\x67\x20\x6C\u1EA1\x69\x2E\x2E\x2E","\x77\x61\x72\x6E","\x47\x62\x6F\x74\x20\u0111\xE3\x20\x74\u1EF1\x20\u0111\u1ED9\x6E\x67\x20\x64\u1EEB\x6E\x67\x2E\x2E\x2E","\x65\x78\x69\x74","\x6F\x6E","\x68\x74\x74\x70\x73\x3A\x2F\x2F\x72\x61\x77\x2E\x67\x69\x74\x68\x75\x62\x75\x73\x65\x72\x63\x6F\x6E\x74\x65\x6E\x74\x2E\x63\x6F\x6D\x2F\x6E\x68\x61\x74\x63\x6F\x64\x65\x72\x32\x30\x30\x33\x2F\x47\x62\x6F\x74\x57\x61\x72\x53\x65\x72\x76\x65\x72\x2F\x6D\x61\x69\x6E\x2F\x6E\x6F\x74\x69\x66\x69\x63\x61\x74\x69\x6F\x6E\x2E\x6A\x73\x6F\x6E","\x67\x65\x74","\x72\x65\x74\x72\x6F","\x6E\x6F\x74\x69\x66\x69\x63\x61\x74\x69\x6F\x6E","\x64\x61\x74\x61","\x66\x6F\x72\x45\x61\x63\x68","\x4B\x68\xF4\x6E\x67\x20\x74\x68\u1EC3\x20\x6B\u1EBF\x74\x20\x6E\u1ED1\x69\x20\x74\u1EDB\x69\x20\x6D\xE1\x79\x20\x63\x68\u1EE7\x20\x74\x68\xF4\x6E\x67\x20\x62\xE1\x6F","\x68\x74\x74\x70\x73\x3A\x2F\x2F\x72\x61\x77\x2E\x67\x69\x74\x68\x75\x62\x75\x73\x65\x72\x63\x6F\x6E\x74\x65\x6E\x74\x2E\x63\x6F\x6D\x2F\x6E\x68\x61\x74\x63\x6F\x64\x65\x72\x32\x30\x30\x33\x2F\x47\x62\x6F\x74\x2D\x57\x61\x72\x2D\x56\x32\x2F\x6D\x61\x69\x6E\x2F\x70\x61\x63\x6B\x61\x67\x65\x2E\x6A\x73\x6F\x6E","\x76\x65\x72\x73\x69\x6F\x6E","\x2E\x2F\x70\x61\x63\x6B\x61\x67\x65\x2E\x6A\x73\x6F\x6E","\x70\x61\x72\x73\x65","\x6C\x74","\x56\x75\x69\x20\x6C\xF2\x6E\x67\x20\x63\u1EAD\x70\x20\x6E\x68\u1EAD\x74\x20\x6C\xEA\x6E\x20\x70\x68\x69\xEA\x6E\x20\x62\u1EA3\x6E\x20\x6D\u1EDB\x69\x20\x6E\x68\u1EA5\x74\x20\u0111\u1EC3\x20\x73\u1EED\x20\x64\u1EE5\x6E\x67\x20\x62\x6F\x74","\x42\u1EA1\x6E\x20\u0111\x61\x6E\x67\x20\x73\u1EED\x20\x64\u1EE5\x6E\x67\x20\x70\x68\x69\xEA\x6E\x20\x62\u1EA3\x6E\x20\x6D\u1EDB\x69\x20\x6E\x68\u1EA5\x74\x20\x63\u1EE7\x61\x20\x47\x42\x4F\x54\x20\x57\x41\x52\x20\x72\u1ED3\x69\x2E","\x55\x50\x44\x41\x54\x45","\x63\x75\x73\x74\x6F\x6D","\x4B\x68\xF4\x6E\x67\x20\x74\x68\u1EC3\x20\x6B\u1EBF\x74\x20\x6E\u1ED1\x69\x20\x74\u1ED1\x69\x20\x6D\xE1\x79\x20\x63\x68\u1EE7\x20\x63\u1EAD\x70\x20\x6E\x68\u1EAD\x74\x2E"];
const _1_MINUTE=60000;
let restartCount=0;
Banner();async function main()
{
	 await notification(); await update();const _0x31dex4=spawn(_0x6118[0],[_0x6118[1],_0x6118[2],_0x6118[3],_0x6118[4]],{cwd:process[_0x6118[5]](),stdio:_0x6118[6],env:process[_0x6118[7]]});
	_0x31dex4[_0x6118[16]](_0x6118[8],async (_0x31dex5)=>
	{
		handleRestartCount();if(_0x31dex5!== 0&& restartCount< 5)
		{
			console[_0x6118[9]]();logger[_0x6118[11]](("\x4C\u1ED7\x69\x20\x6B\x68\xF4\x6E\x67\x20\x78\xE1\x63\x20\u0111\u1ECB\x6E\x68\x6E\x20\x4D\xE3\x20\x50\x68\x69\xEA\x6E\x20\x4C\u1ED7\x69\x3A\x20"+_0x31dex5+_0x6118[10]));logger[_0x6118[13]](_0x6118[12]); await  new Promise((_0x31dex6)=>
			{
				return setTimeout(_0x31dex6,2000)
			}
			);main()
		}
		else 
		{
			logger[_0x6118[11]](_0x6118[14]);process[_0x6118[15]]()
		}
	}
	)
}
async function notification()
{
	try
	{
		const _0x31dex8= await axios[_0x6118[18]](_0x6118[17]);
		console[_0x6118[9]](gradient[_0x6118[19]]("\u3004\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x54\x48\xD4\x4E\x47\x20\x42\xC1\x4F\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\u3004"));const notification=_0x31dex8[_0x6118[21]][_0x6118[20]];
		notification[_0x6118[22]]((_0x31dex9)=>
		{
			console[_0x6118[9]]("\u203A\x20"+ _0x31dex9)
		}
		);console[_0x6118[9]](gradient[_0x6118[19]]("\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D\x3D"))
	}
	catch(e)
	{
		logger[_0x6118[13]](_0x6118[23])
	}
}
async function update()
{
	try
	{
		const _0x31dexb= await axios[_0x6118[18]](_0x6118[24]);
		const {version}=_0x31dexb[_0x6118[21]];
		const _0x31dexc=JSON[_0x6118[27]](readFileSync(_0x6118[26]))[_0x6118[25]];
		if(semver[_0x6118[28]](_0x31dexc,version))
		{
			logger[_0x6118[13]](("\u0110\xE3\x20\x63\xF3\x20\x70\x68\x69\xEA\x6E\x20\x62\u1EA3\x6E\x20\x6D\u1EDB\x69\x3A\x20"+version+_0x6118[10]));logger[_0x6118[13]](("\x50\x68\x69\xEA\x6E\x20\x62\u1EA3\x6E\x20\x68\x69\u1EC7\x6E\x20\x74\u1EA1\x69\x3A\x20"+_0x31dexc+_0x6118[10]));logger[_0x6118[11]](_0x6118[29])
		}
		else 
		{
			logger[_0x6118[32]](_0x6118[30],_0x6118[31])
		}
	}
	catch(err)
	{
		logger[_0x6118[11]](_0x6118[33])
	}
}
function handleRestartCount()
{
	restartCount++;setTimeout(()=>
	{
		restartCount--
	}
	,_1_MINUTE)
}


main();